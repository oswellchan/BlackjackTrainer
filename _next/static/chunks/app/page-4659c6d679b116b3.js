(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7483:function(T,e,t){Promise.resolve().then(t.bind(t,1888))},1888:function(T,e,t){"use strict";t.r(e),t.d(e,{default:function(){return Home}});var a,r,I,n,l,S,H=t(7437),s=t(6691),D=t.n(s),o=t(2265);(a=n||(n={})).STAND="STAND",a.HIT="HIT",a.DOUBLE="DOUBLE",a.SPLIT="SPLIT",a.SURRENDER="SURRENDER",(r=l||(l={}))[r.A=0]="A",r[r.K=1]="K",r[r.Q=2]="Q",r[r.J=3]="J",r[r.TEN=4]="TEN",r[r.NINE=5]="NINE",r[r.EIGHT=6]="EIGHT",r[r.SEVEN=7]="SEVEN",r[r.SIX=8]="SIX",r[r.FIVE=9]="FIVE",r[r.FOUR=10]="FOUR",r[r.THREE=11]="THREE",r[r.TWO=12]="TWO",(I=S||(S={})).DIAMONDS="DIAMONDS",I.CLUBS="CLUBS",I.HEARTS="HEARTS",I.SPADES="SPADES";let i=["DIAMONDS","CLUBS","HEARTS","SPADES"],c={0:{numVal:11,strVal:"ACE"},1:{numVal:10,strVal:"KING"},2:{numVal:10,strVal:"QUEEN"},3:{numVal:10,strVal:"JACK"},4:{numVal:10,strVal:"10"},5:{numVal:9,strVal:"9"},6:{numVal:8,strVal:"8"},7:{numVal:7,strVal:"7"},8:{numVal:6,strVal:"6"},9:{numVal:5,strVal:"5"},10:{numVal:4,strVal:"4"},11:{numVal:3,strVal:"3"},12:{numVal:2,strVal:"2"}},N={11:[0],10:[1,2,3,4],9:[5],8:[6],7:[7],6:[8],5:[9],4:[10],3:[11],2:[12]};let Card=class Card{isAce(){return 0===this.value}toString(){return"".concat(c[this.value].strVal,"_of_").concat(this.suit).toLowerCase()}constructor(T,e){this.value=T,this.numericalValue=c[T].numVal,this.suit=e}};let CardFactory=class CardFactory{static getCard(T,e){return new Card(T,e)}static getCardByNumericalValue(T,e){if(T<2||T>11)throw Error("Invalid numVal");let t=N[T];return new Card(t[Math.floor(Math.random()*t.length)],null!=e?e:i[Math.floor(Math.random()*i.length)])}};let A={H21:{2:[n.STAND],3:[n.STAND],4:[n.STAND],5:[n.STAND],6:[n.STAND],7:[n.STAND],8:[n.STAND],9:[n.STAND],10:[n.STAND],11:[n.STAND]},H20:{2:[n.STAND],3:[n.STAND],4:[n.STAND],5:[n.STAND],6:[n.STAND],7:[n.STAND],8:[n.STAND],9:[n.STAND],10:[n.STAND],11:[n.STAND]},H19:{2:[n.STAND],3:[n.STAND],4:[n.STAND],5:[n.STAND],6:[n.STAND],7:[n.STAND],8:[n.STAND],9:[n.STAND],10:[n.STAND],11:[n.STAND]},H18:{2:[n.STAND],3:[n.STAND],4:[n.STAND],5:[n.STAND],6:[n.STAND],7:[n.STAND],8:[n.STAND],9:[n.STAND],10:[n.STAND],11:[n.STAND]},H17:{2:[n.STAND],3:[n.STAND],4:[n.STAND],5:[n.STAND],6:[n.STAND],7:[n.STAND],8:[n.STAND],9:[n.STAND],10:[n.STAND],11:[n.SURRENDER,n.STAND]},H16:{2:[n.STAND],3:[n.STAND],4:[n.STAND],5:[n.STAND],6:[n.STAND],7:[n.HIT],8:[n.HIT],9:[n.SURRENDER,n.HIT],10:[n.SURRENDER,n.HIT],11:[n.SURRENDER,n.HIT]},H15:{2:[n.STAND],3:[n.STAND],4:[n.STAND],5:[n.STAND],6:[n.STAND],7:[n.HIT],8:[n.HIT],9:[n.HIT],10:[n.SURRENDER,n.HIT],11:[n.SURRENDER,n.HIT]},H14:{2:[n.STAND],3:[n.STAND],4:[n.STAND],5:[n.STAND],6:[n.STAND],7:[n.HIT],8:[n.HIT],9:[n.HIT],10:[n.HIT],11:[n.HIT]},H13:{2:[n.STAND],3:[n.STAND],4:[n.STAND],5:[n.STAND],6:[n.STAND],7:[n.HIT],8:[n.HIT],9:[n.HIT],10:[n.HIT],11:[n.HIT]},H12:{2:[n.HIT],3:[n.HIT],4:[n.STAND],5:[n.STAND],6:[n.STAND],7:[n.HIT],8:[n.HIT],9:[n.HIT],10:[n.HIT],11:[n.HIT]},H11:{2:[n.DOUBLE,n.HIT],3:[n.DOUBLE,n.HIT],4:[n.DOUBLE,n.HIT],5:[n.DOUBLE,n.HIT],6:[n.DOUBLE,n.HIT],7:[n.DOUBLE,n.HIT],8:[n.DOUBLE,n.HIT],9:[n.DOUBLE,n.HIT],10:[n.DOUBLE,n.HIT],11:[n.DOUBLE,n.HIT]},H10:{2:[n.DOUBLE,n.HIT],3:[n.DOUBLE,n.HIT],4:[n.DOUBLE,n.HIT],5:[n.DOUBLE,n.HIT],6:[n.DOUBLE,n.HIT],7:[n.DOUBLE,n.HIT],8:[n.DOUBLE,n.HIT],9:[n.DOUBLE,n.HIT],10:[n.HIT],11:[n.HIT]},H9:{2:[n.HIT],3:[n.DOUBLE,n.HIT],4:[n.DOUBLE,n.HIT],5:[n.DOUBLE,n.HIT],6:[n.DOUBLE,n.HIT],7:[n.HIT],8:[n.HIT],9:[n.HIT],10:[n.HIT],11:[n.HIT]},H8:{2:[n.HIT],3:[n.HIT],4:[n.HIT],5:[n.HIT],6:[n.HIT],7:[n.HIT],8:[n.HIT],9:[n.HIT],10:[n.HIT],11:[n.HIT]},H7:{2:[n.HIT],3:[n.HIT],4:[n.HIT],5:[n.HIT],6:[n.HIT],7:[n.HIT],8:[n.HIT],9:[n.HIT],10:[n.HIT],11:[n.HIT]},H6:{2:[n.HIT],3:[n.HIT],4:[n.HIT],5:[n.HIT],6:[n.HIT],7:[n.HIT],8:[n.HIT],9:[n.HIT],10:[n.HIT],11:[n.HIT]},H5:{2:[n.HIT],3:[n.HIT],4:[n.HIT],5:[n.HIT],6:[n.HIT],7:[n.HIT],8:[n.HIT],9:[n.HIT],10:[n.HIT],11:[n.HIT]},A9:{2:[n.STAND],3:[n.STAND],4:[n.STAND],5:[n.STAND],6:[n.STAND],7:[n.STAND],8:[n.STAND],9:[n.STAND],10:[n.STAND],11:[n.STAND]},A8:{2:[n.STAND],3:[n.STAND],4:[n.STAND],5:[n.STAND],6:[n.DOUBLE,n.STAND],7:[n.STAND],8:[n.STAND],9:[n.STAND],10:[n.STAND],11:[n.STAND]},A7:{2:[n.DOUBLE,n.STAND],3:[n.DOUBLE,n.STAND],4:[n.DOUBLE,n.STAND],5:[n.DOUBLE,n.STAND],6:[n.DOUBLE,n.STAND],7:[n.STAND],8:[n.STAND],9:[n.HIT],10:[n.HIT],11:[n.HIT]},A6:{2:[n.HIT],3:[n.DOUBLE,n.HIT],4:[n.DOUBLE,n.HIT],5:[n.DOUBLE,n.HIT],6:[n.DOUBLE,n.HIT],7:[n.HIT],8:[n.HIT],9:[n.HIT],10:[n.HIT],11:[n.HIT]},A5:{2:[n.HIT],3:[n.HIT],4:[n.DOUBLE,n.HIT],5:[n.DOUBLE,n.HIT],6:[n.DOUBLE,n.HIT],7:[n.HIT],8:[n.HIT],9:[n.HIT],10:[n.HIT],11:[n.HIT]},A4:{2:[n.HIT],3:[n.HIT],4:[n.DOUBLE,n.HIT],5:[n.DOUBLE,n.HIT],6:[n.DOUBLE,n.HIT],7:[n.HIT],8:[n.HIT],9:[n.HIT],10:[n.HIT],11:[n.HIT]},A3:{2:[n.HIT],3:[n.HIT],4:[n.HIT],5:[n.DOUBLE,n.HIT],6:[n.DOUBLE,n.HIT],7:[n.HIT],8:[n.HIT],9:[n.HIT],10:[n.HIT],11:[n.HIT]},A2:{2:[n.HIT],3:[n.HIT],4:[n.HIT],5:[n.DOUBLE,n.HIT],6:[n.DOUBLE,n.HIT],7:[n.HIT],8:[n.HIT],9:[n.HIT],10:[n.HIT],11:[n.HIT]},PA:{2:[n.SPLIT],3:[n.SPLIT],4:[n.SPLIT],5:[n.SPLIT],6:[n.SPLIT],7:[n.SPLIT],8:[n.SPLIT],9:[n.SPLIT],10:[n.SPLIT],11:[n.SPLIT]},P10:{2:[n.STAND],3:[n.STAND],4:[n.STAND],5:[n.STAND],6:[n.STAND],7:[n.STAND],8:[n.STAND],9:[n.STAND],10:[n.STAND],11:[n.STAND]},P9:{2:[n.SPLIT],3:[n.SPLIT],4:[n.SPLIT],5:[n.SPLIT],6:[n.SPLIT],7:[n.STAND],8:[n.SPLIT],9:[n.SPLIT],10:[n.STAND],11:[n.STAND]},P8:{2:[n.SPLIT],3:[n.SPLIT],4:[n.SPLIT],5:[n.SPLIT],6:[n.SPLIT],7:[n.SPLIT],8:[n.SPLIT],9:[n.SPLIT],10:[n.SPLIT],11:[n.SURRENDER,n.SPLIT]},P7:{2:[n.SPLIT],3:[n.SPLIT],4:[n.SPLIT],5:[n.SPLIT],6:[n.SPLIT],7:[n.SPLIT],8:[n.HIT],9:[n.HIT],10:[n.HIT],11:[n.HIT]},P6:{2:[n.SPLIT],3:[n.SPLIT],4:[n.SPLIT],5:[n.SPLIT],6:[n.SPLIT],7:[n.HIT],8:[n.HIT],9:[n.HIT],10:[n.HIT],11:[n.HIT]},P5:{2:[n.DOUBLE,n.HIT],3:[n.DOUBLE,n.HIT],4:[n.DOUBLE,n.HIT],5:[n.DOUBLE,n.HIT],6:[n.DOUBLE,n.HIT],7:[n.DOUBLE,n.HIT],8:[n.DOUBLE,n.HIT],9:[n.DOUBLE,n.HIT],10:[n.HIT],11:[n.HIT]},P4:{2:[n.HIT],3:[n.HIT],4:[n.HIT],5:[n.SPLIT],6:[n.SPLIT],7:[n.HIT],8:[n.HIT],9:[n.HIT],10:[n.HIT],11:[n.HIT]},P3:{2:[n.SPLIT],3:[n.SPLIT],4:[n.SPLIT],5:[n.SPLIT],6:[n.SPLIT],7:[n.SPLIT],8:[n.HIT],9:[n.HIT],10:[n.HIT],11:[n.HIT]},P2:{2:[n.SPLIT],3:[n.SPLIT],4:[n.SPLIT],5:[n.SPLIT],6:[n.SPLIT],7:[n.SPLIT],8:[n.HIT],9:[n.HIT],10:[n.HIT],11:[n.HIT]}};let StrategyEngine=class StrategyEngine{getCorrectActions(T,e){let t=this.getHandMapping(T);if(!(t in this.strategy))throw Error("Unknown hand: ".concat(t));return this.strategy[t][e.numericalValue]}getHandMapping(T){let e="";if(this.isSplit(T))e="P".concat(T[0].isAce()?"A":T[0].numericalValue);else if(this.isSoftTotal(T)){let t=[],a=[];for(let e of T)e.isAce()?t.push(e):a.push(e);let r=this.getMinHandValue(a)+t.length-1;e="A".concat(r)}else e="H".concat(this.getMinHandValue(T));return e}isSplit(T){return 2==T.length&&T[0].numericalValue==T[1].numericalValue}isSoftTotal(T){return!!T.some(T=>T.isAce())&&21>=this.getMinHandValue(T)}getMinHandValue(T){return T.reduce((T,e)=>T+(e.isAce()?1:e.numericalValue),0)}generateAllStrategyCases(){let T=!(arguments.length>0)||void 0===arguments[0]||arguments[0],e=[...this.generateHardTotalCases(),...this.generateSoftTotalCases(),...this.generateSplitCases()];return T?e.sort(()=>.5-Math.random()):e}generateHardTotalCases(){let T=[];for(let e of[5,6,7,8,9,10,11]){let t=[];for(let T=2;T<=e-2;T++)T!==e-T&&t.push(T);for(let a=2;a<=11;a++){let r=t[Math.floor(Math.random()*t.length)];T.push({hand:[CardFactory.getCardByNumericalValue(r,void 0),CardFactory.getCardByNumericalValue(e-r,void 0)],dealerCard:CardFactory.getCardByNumericalValue(a,void 0)})}}for(let e of[12,13,14,15,16,17,18,19]){let t=e-10,a=[];for(let T=t;T<=10;T++)T!==e-T&&a.push(T);for(let t=2;t<=11;t++){let r=a[Math.floor(Math.random()*a.length)];T.push({hand:[CardFactory.getCardByNumericalValue(r,void 0),CardFactory.getCardByNumericalValue(e-r,void 0)],dealerCard:CardFactory.getCardByNumericalValue(t,void 0)})}}return T}generateSoftTotalCases(){let T=[];for(let e=2;e<10;e++)for(let t=2;t<=11;t++)T.push({hand:[CardFactory.getCardByNumericalValue(11,void 0),CardFactory.getCardByNumericalValue(e,void 0)],dealerCard:CardFactory.getCardByNumericalValue(t,void 0)});return T}generateSplitCases(){let T=[];for(let e=2;e<=11;e++)for(let t=2;t<=11;t++){let a=[...i];a.sort(()=>.5-Math.random()),T.push({hand:[CardFactory.getCardByNumericalValue(e,a[0]),CardFactory.getCardByNumericalValue(e,a[1])],dealerCard:CardFactory.getCardByNumericalValue(t,void 0)})}return T}constructor(){this.strategy=A}};let d=new StrategyEngine;function Home(){let[T,e]=(0,o.useState)([]),[t,a]=(0,o.useState)(),[r,I]=(0,o.useState)(),[n,l]=(0,o.useState)(),[S,s]=(0,o.useState)(0),[D,i]=(0,o.useState)(0);return(0,o.useEffect)(()=>{let T=d.generateAllStrategyCases();s(T.length),a(T.pop()),e(T),i(0)},[]),(0,H.jsxs)("main",{className:"h-screen grid grid-rows-6",children:[T.length?(0,H.jsxs)("div",{className:"absolute float-right",children:[(0,H.jsx)("p",{children:"Remaining: ".concat(T.length+1," / ").concat(S)}),(0,H.jsx)("p",{children:"Correct: ".concat(D," / ").concat(S)})]}):null,(0,H.jsx)("div",{className:"grid row-span-5",children:t?(0,H.jsx)(PlayingArea,{strategyCase:t,onAction:r=>{let n=d.getCorrectActions(t.hand,t.dealerCard);n[0]===r?(I(!0),i(D+1)):(I(!1),l(n[0])),a(T.pop()),e([...T])}}):null}),(0,H.jsx)("div",{className:"grid row-span-1",children:(0,H.jsx)(ResultFeedback,{isCorrect:r,correctAction:n})})]})}function Actions(T){return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)("div",{className:"flex justify-center gap-2 m-2",children:[(0,H.jsx)("button",{className:"bg-blue-500 text-white font-bold py-2 px-2 rounded",type:"button",onClick:()=>T.onAction(n.STAND),children:"STAND"}),(0,H.jsx)("button",{className:"bg-blue-500 text-white font-bold py-2 px-2 rounded",type:"button",onClick:()=>T.onAction(n.HIT),children:"HIT"}),(0,H.jsx)("button",{className:"bg-blue-500 text-white font-bold py-2 px-2 rounded",type:"button",onClick:()=>T.onAction(n.DOUBLE),children:"DOUBLE"})]}),(0,H.jsxs)("div",{className:"flex justify-center gap-2 m-2",children:[(0,H.jsx)("button",{className:"bg-blue-500 text-white font-bold py-2 px-2 rounded",type:"button",onClick:()=>T.onAction(n.SPLIT),children:"SPLIT"}),(0,H.jsx)("button",{className:"bg-blue-500 text-white font-bold py-2 px-2 rounded",type:"button",onClick:()=>T.onAction(n.SURRENDER),children:"SURRENDER"})]})]})}function CardImage(T){return(0,H.jsx)(D(),{priority:!0,className:"h-40 w-auto",src:"/BlackjackTrainer/images/playing_cards/".concat(T.card.toString(),".svg"),height:0,width:0,alt:"".concat(T.card.toString())})}function PlayingArea(T){return(0,H.jsxs)("div",{className:"grid grid-rows-5",children:[(0,H.jsx)("div",{className:"row-span-2 flex justify-around items-center",children:(0,H.jsx)(CardImage,{card:T.strategyCase.dealerCard})}),(0,H.jsxs)("div",{className:"row-span-2 flex justify-center gap-1 items-center",children:[(0,H.jsx)(CardImage,{card:T.strategyCase.hand[0]}),(0,H.jsx)(CardImage,{card:T.strategyCase.hand[1]})]}),(0,H.jsx)("div",{className:"row-span-1 w-full",children:(0,H.jsx)(Actions,{onAction:T.onAction})})]})}function ResultFeedback(T){if(void 0===T.isCorrect)return null;let e=T.isCorrect?"bg-lime-500":"bg-red-500";return(0,H.jsxs)("div",{className:"grid grid-rows-3",children:[(0,H.jsx)("div",{className:"row-span-1"}),(0,H.jsx)("div",{className:"row-span-2 flex justify-center h-full items-center ".concat(e),children:(0,H.jsx)("p",{children:T.isCorrect?"Correct":"Wrong. Should ".concat(T.correctAction)})})]})}}},function(T){T.O(0,[986,971,472,744],function(){return T(T.s=7483)}),_N_E=T.O()}]);