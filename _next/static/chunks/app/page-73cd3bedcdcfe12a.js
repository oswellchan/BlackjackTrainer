(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7483:function(e,t,T){Promise.resolve().then(T.bind(T,1888))},1888:function(e,t,T){"use strict";let a;T.r(t),T.d(t,{default:function(){return Home}});var r,l,n,s,I,i,S=T(7437),o=T(6691),c=T.n(o),H=T(2265),d=T(9468);(r=s||(s={})).STAND="STAND",r.HIT="HIT",r.DOUBLE="DOUBLE",r.SPLIT="SPLIT",r.SURRENDER="SURRENDER",(l=I||(I={}))[l.A=0]="A",l[l.K=1]="K",l[l.Q=2]="Q",l[l.J=3]="J",l[l.TEN=4]="TEN",l[l.NINE=5]="NINE",l[l.EIGHT=6]="EIGHT",l[l.SEVEN=7]="SEVEN",l[l.SIX=8]="SIX",l[l.FIVE=9]="FIVE",l[l.FOUR=10]="FOUR",l[l.THREE=11]="THREE",l[l.TWO=12]="TWO",(n=i||(i={})).DIAMONDS="DIAMONDS",n.CLUBS="CLUBS",n.HEARTS="HEARTS",n.SPADES="SPADES";let D=["DIAMONDS","CLUBS","HEARTS","SPADES"],N={0:{numVal:11,strVal:"ACE"},1:{numVal:10,strVal:"KING"},2:{numVal:10,strVal:"QUEEN"},3:{numVal:10,strVal:"JACK"},4:{numVal:10,strVal:"10"},5:{numVal:9,strVal:"9"},6:{numVal:8,strVal:"8"},7:{numVal:7,strVal:"7"},8:{numVal:6,strVal:"6"},9:{numVal:5,strVal:"5"},10:{numVal:4,strVal:"4"},11:{numVal:3,strVal:"3"},12:{numVal:2,strVal:"2"}},u={11:[0],10:[1,2,3,4],9:[5],8:[6],7:[7],6:[8],5:[9],4:[10],3:[11],2:[12]};let Card=class Card{isAce(){return 0===this.value}toString(){return"".concat(N[this.value].strVal,"_of_").concat(this.suit).toLowerCase()}constructor(e,t){this.value=e,this.numericalValue=N[e].numVal,this.suit=t}};let CardFactory=class CardFactory{static getCard(e,t){return new Card(e,t)}static getCardByNumericalValue(e,t){if(e<2||e>11)throw Error("Invalid numVal");let T=u[e];return new Card(T[Math.floor(Math.random()*T.length)],null!=t?t:D[Math.floor(Math.random()*D.length)])}};let A={H21:{2:[s.STAND],3:[s.STAND],4:[s.STAND],5:[s.STAND],6:[s.STAND],7:[s.STAND],8:[s.STAND],9:[s.STAND],10:[s.STAND],11:[s.STAND]},H20:{2:[s.STAND],3:[s.STAND],4:[s.STAND],5:[s.STAND],6:[s.STAND],7:[s.STAND],8:[s.STAND],9:[s.STAND],10:[s.STAND],11:[s.STAND]},H19:{2:[s.STAND],3:[s.STAND],4:[s.STAND],5:[s.STAND],6:[s.STAND],7:[s.STAND],8:[s.STAND],9:[s.STAND],10:[s.STAND],11:[s.STAND]},H18:{2:[s.STAND],3:[s.STAND],4:[s.STAND],5:[s.STAND],6:[s.STAND],7:[s.STAND],8:[s.STAND],9:[s.STAND],10:[s.STAND],11:[s.STAND]},H17:{2:[s.STAND],3:[s.STAND],4:[s.STAND],5:[s.STAND],6:[s.STAND],7:[s.STAND],8:[s.STAND],9:[s.STAND],10:[s.STAND],11:[s.SURRENDER,s.STAND]},H16:{2:[s.STAND],3:[s.STAND],4:[s.STAND],5:[s.STAND],6:[s.STAND],7:[s.HIT],8:[s.HIT],9:[s.SURRENDER,s.HIT],10:[s.SURRENDER,s.HIT],11:[s.SURRENDER,s.HIT]},H15:{2:[s.STAND],3:[s.STAND],4:[s.STAND],5:[s.STAND],6:[s.STAND],7:[s.HIT],8:[s.HIT],9:[s.HIT],10:[s.SURRENDER,s.HIT],11:[s.SURRENDER,s.HIT]},H14:{2:[s.STAND],3:[s.STAND],4:[s.STAND],5:[s.STAND],6:[s.STAND],7:[s.HIT],8:[s.HIT],9:[s.HIT],10:[s.HIT],11:[s.HIT]},H13:{2:[s.STAND],3:[s.STAND],4:[s.STAND],5:[s.STAND],6:[s.STAND],7:[s.HIT],8:[s.HIT],9:[s.HIT],10:[s.HIT],11:[s.HIT]},H12:{2:[s.HIT],3:[s.HIT],4:[s.STAND],5:[s.STAND],6:[s.STAND],7:[s.HIT],8:[s.HIT],9:[s.HIT],10:[s.HIT],11:[s.HIT]},H11:{2:[s.DOUBLE,s.HIT],3:[s.DOUBLE,s.HIT],4:[s.DOUBLE,s.HIT],5:[s.DOUBLE,s.HIT],6:[s.DOUBLE,s.HIT],7:[s.DOUBLE,s.HIT],8:[s.DOUBLE,s.HIT],9:[s.DOUBLE,s.HIT],10:[s.DOUBLE,s.HIT],11:[s.DOUBLE,s.HIT]},H10:{2:[s.DOUBLE,s.HIT],3:[s.DOUBLE,s.HIT],4:[s.DOUBLE,s.HIT],5:[s.DOUBLE,s.HIT],6:[s.DOUBLE,s.HIT],7:[s.DOUBLE,s.HIT],8:[s.DOUBLE,s.HIT],9:[s.DOUBLE,s.HIT],10:[s.HIT],11:[s.HIT]},H9:{2:[s.HIT],3:[s.DOUBLE,s.HIT],4:[s.DOUBLE,s.HIT],5:[s.DOUBLE,s.HIT],6:[s.DOUBLE,s.HIT],7:[s.HIT],8:[s.HIT],9:[s.HIT],10:[s.HIT],11:[s.HIT]},H8:{2:[s.HIT],3:[s.HIT],4:[s.HIT],5:[s.HIT],6:[s.HIT],7:[s.HIT],8:[s.HIT],9:[s.HIT],10:[s.HIT],11:[s.HIT]},H7:{2:[s.HIT],3:[s.HIT],4:[s.HIT],5:[s.HIT],6:[s.HIT],7:[s.HIT],8:[s.HIT],9:[s.HIT],10:[s.HIT],11:[s.HIT]},H6:{2:[s.HIT],3:[s.HIT],4:[s.HIT],5:[s.HIT],6:[s.HIT],7:[s.HIT],8:[s.HIT],9:[s.HIT],10:[s.HIT],11:[s.HIT]},H5:{2:[s.HIT],3:[s.HIT],4:[s.HIT],5:[s.HIT],6:[s.HIT],7:[s.HIT],8:[s.HIT],9:[s.HIT],10:[s.HIT],11:[s.HIT]},A9:{2:[s.STAND],3:[s.STAND],4:[s.STAND],5:[s.STAND],6:[s.STAND],7:[s.STAND],8:[s.STAND],9:[s.STAND],10:[s.STAND],11:[s.STAND]},A8:{2:[s.STAND],3:[s.STAND],4:[s.STAND],5:[s.STAND],6:[s.DOUBLE,s.STAND],7:[s.STAND],8:[s.STAND],9:[s.STAND],10:[s.STAND],11:[s.STAND]},A7:{2:[s.DOUBLE,s.STAND],3:[s.DOUBLE,s.STAND],4:[s.DOUBLE,s.STAND],5:[s.DOUBLE,s.STAND],6:[s.DOUBLE,s.STAND],7:[s.STAND],8:[s.STAND],9:[s.HIT],10:[s.HIT],11:[s.HIT]},A6:{2:[s.HIT],3:[s.DOUBLE,s.HIT],4:[s.DOUBLE,s.HIT],5:[s.DOUBLE,s.HIT],6:[s.DOUBLE,s.HIT],7:[s.HIT],8:[s.HIT],9:[s.HIT],10:[s.HIT],11:[s.HIT]},A5:{2:[s.HIT],3:[s.HIT],4:[s.DOUBLE,s.HIT],5:[s.DOUBLE,s.HIT],6:[s.DOUBLE,s.HIT],7:[s.HIT],8:[s.HIT],9:[s.HIT],10:[s.HIT],11:[s.HIT]},A4:{2:[s.HIT],3:[s.HIT],4:[s.DOUBLE,s.HIT],5:[s.DOUBLE,s.HIT],6:[s.DOUBLE,s.HIT],7:[s.HIT],8:[s.HIT],9:[s.HIT],10:[s.HIT],11:[s.HIT]},A3:{2:[s.HIT],3:[s.HIT],4:[s.HIT],5:[s.DOUBLE,s.HIT],6:[s.DOUBLE,s.HIT],7:[s.HIT],8:[s.HIT],9:[s.HIT],10:[s.HIT],11:[s.HIT]},A2:{2:[s.HIT],3:[s.HIT],4:[s.HIT],5:[s.DOUBLE,s.HIT],6:[s.DOUBLE,s.HIT],7:[s.HIT],8:[s.HIT],9:[s.HIT],10:[s.HIT],11:[s.HIT]},PA:{2:[s.SPLIT],3:[s.SPLIT],4:[s.SPLIT],5:[s.SPLIT],6:[s.SPLIT],7:[s.SPLIT],8:[s.SPLIT],9:[s.SPLIT],10:[s.SPLIT],11:[s.SPLIT]},P10:{2:[s.STAND],3:[s.STAND],4:[s.STAND],5:[s.STAND],6:[s.STAND],7:[s.STAND],8:[s.STAND],9:[s.STAND],10:[s.STAND],11:[s.STAND]},P9:{2:[s.SPLIT],3:[s.SPLIT],4:[s.SPLIT],5:[s.SPLIT],6:[s.SPLIT],7:[s.STAND],8:[s.SPLIT],9:[s.SPLIT],10:[s.STAND],11:[s.STAND]},P8:{2:[s.SPLIT],3:[s.SPLIT],4:[s.SPLIT],5:[s.SPLIT],6:[s.SPLIT],7:[s.SPLIT],8:[s.SPLIT],9:[s.SPLIT],10:[s.SPLIT],11:[s.SURRENDER,s.SPLIT]},P7:{2:[s.SPLIT],3:[s.SPLIT],4:[s.SPLIT],5:[s.SPLIT],6:[s.SPLIT],7:[s.SPLIT],8:[s.HIT],9:[s.HIT],10:[s.HIT],11:[s.HIT]},P6:{2:[s.SPLIT],3:[s.SPLIT],4:[s.SPLIT],5:[s.SPLIT],6:[s.SPLIT],7:[s.HIT],8:[s.HIT],9:[s.HIT],10:[s.HIT],11:[s.HIT]},P5:{2:[s.DOUBLE,s.HIT],3:[s.DOUBLE,s.HIT],4:[s.DOUBLE,s.HIT],5:[s.DOUBLE,s.HIT],6:[s.DOUBLE,s.HIT],7:[s.DOUBLE,s.HIT],8:[s.DOUBLE,s.HIT],9:[s.DOUBLE,s.HIT],10:[s.HIT],11:[s.HIT]},P4:{2:[s.HIT],3:[s.HIT],4:[s.HIT],5:[s.SPLIT],6:[s.SPLIT],7:[s.HIT],8:[s.HIT],9:[s.HIT],10:[s.HIT],11:[s.HIT]},P3:{2:[s.SPLIT],3:[s.SPLIT],4:[s.SPLIT],5:[s.SPLIT],6:[s.SPLIT],7:[s.SPLIT],8:[s.HIT],9:[s.HIT],10:[s.HIT],11:[s.HIT]},P2:{2:[s.SPLIT],3:[s.SPLIT],4:[s.SPLIT],5:[s.SPLIT],6:[s.SPLIT],7:[s.SPLIT],8:[s.HIT],9:[s.HIT],10:[s.HIT],11:[s.HIT]}};let StrategyEngine=class StrategyEngine{getCorrectActions(e,t){let T=this.getHandMapping(e);if(!(T in this.strategy))throw Error("Unknown hand: ".concat(T));return this.strategy[T][t.numericalValue]}getHandMapping(e){let t="";if(this.isSplit(e))t="P".concat(e[0].isAce()?"A":e[0].numericalValue);else if(this.isSoftTotal(e)){let T=[],a=[];for(let t of e)t.isAce()?T.push(t):a.push(t);let r=this.getMinHandValue(a)+T.length-1;t="A".concat(r)}else t="H".concat(this.getMinHandValue(e));return t}isSplit(e){return 2==e.length&&e[0].numericalValue==e[1].numericalValue}isSoftTotal(e){return!!e.some(e=>e.isAce())&&21>=this.getMinHandValue(e)}getMinHandValue(e){return e.reduce((e,t)=>e+(t.isAce()?1:t.numericalValue),0)}generateAllStrategyCases(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=[...this.generateHardTotalCases(),...this.generateSoftTotalCases(),...this.generateSplitCases()];return e?t.sort(()=>.5-Math.random()):t}generateHardTotalCases(){let e=[];for(let t of[5,6,7,8,9,10,11]){let T=[];for(let e=2;e<=t-2;e++)e!==t-e&&T.push(e);for(let a=2;a<=11;a++){let r=T[Math.floor(Math.random()*T.length)];e.push({hand:[CardFactory.getCardByNumericalValue(r,void 0),CardFactory.getCardByNumericalValue(t-r,void 0)],dealerCard:CardFactory.getCardByNumericalValue(a,void 0)})}}for(let t of[12,13,14,15,16,17,18,19]){let T=t-10,a=[];for(let e=T;e<=10;e++)e!==t-e&&a.push(e);for(let T=2;T<=11;T++){let r=a[Math.floor(Math.random()*a.length)];e.push({hand:[CardFactory.getCardByNumericalValue(r,void 0),CardFactory.getCardByNumericalValue(t-r,void 0)],dealerCard:CardFactory.getCardByNumericalValue(T,void 0)})}}return e}generateSoftTotalCases(){let e=[];for(let t=2;t<10;t++)for(let T=2;T<=11;T++)e.push({hand:[CardFactory.getCardByNumericalValue(11,void 0),CardFactory.getCardByNumericalValue(t,void 0)],dealerCard:CardFactory.getCardByNumericalValue(T,void 0)});return e}generateSplitCases(){let e=[];for(let t=2;t<=11;t++)for(let T=2;T<=11;T++){let a=[...D];a.sort(()=>.5-Math.random()),e.push({hand:[CardFactory.getCardByNumericalValue(t,a[0]),CardFactory.getCardByNumericalValue(t,a[1])],dealerCard:CardFactory.getCardByNumericalValue(T,void 0)})}return e}constructor(){this.strategy=A}};let L=new StrategyEngine;function Home(){let[e,t]=(0,H.useState)([]),[T,r]=(0,H.useState)(),[l,n]=(0,H.useState)(),[s,I]=(0,H.useState)(),[i,o]=(0,H.useState)(0),[c,d]=(0,H.useState)(0),[D,N]=(0,H.useState)(!1),[u,A]=(0,H.useState)(0),[E,h]=(0,H.useState)(0),[g,m]=(0,H.useState)(0);(0,H.useEffect)(()=>{let e=L.generateAllStrategyCases();o(e.length),r(e.pop()),t(e),d(0)},[]),(0,H.useEffect)(()=>{D||(clearInterval(a),a=setInterval(()=>{A(e=>e+100)},100)),D&&(console.log(a),clearInterval(a))},[D]);let P=g?(c/g*100).toFixed(2):0,C=g?(E/g/1e3).toFixed(2):0;return(0,S.jsxs)("main",{className:"grid grid-rows-6",children:[(0,S.jsxs)("div",{className:"row-span-5 flex flex-col justify-between",children:[(0,S.jsxs)("div",{className:"flex gap-4",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("p",{children:"Remaining: ".concat(i-g," / ").concat(i)}),(0,S.jsx)("p",{children:"Correct: ".concat(c," / ").concat(g," (").concat(P,"%)")})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("p",{children:"Average: ".concat(C)}),(0,S.jsx)("p",{children:"Time: ".concat((u/1e3).toFixed(2))})]})]}),(0,S.jsx)("div",{className:"",children:T?(0,S.jsx)(PlayingArea,{strategyCase:T,onAction:e=>{let t=L.getCorrectActions(T.hand,T.dealerCard);t[0]===e?(n(!0),d(c+1)):(n(!1),I(t[0])),N(!0),h(e=>u+e),m(e=>e+1)},onNext:()=>{r(e.pop()),t([...e]),N(!1),A(0)},allowNext:D}):null})]}),(0,S.jsx)("div",{className:"grid row-span-1",children:(0,S.jsx)(ResultFeedback,{isCorrect:l,correctAction:s})})]})}function Actions(e){let t=e.disabled?"disabled:opacity-25":"";return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("div",{className:"flex justify-center gap-2 m-2",children:[(0,S.jsx)("button",{className:"bg-blue-500 text-white font-bold py-2 px-2 rounded ".concat(t),type:"button",onClick:()=>e.onAction(s.STAND),disabled:e.disabled,children:"STAND"}),(0,S.jsx)("button",{className:"bg-blue-500 text-white font-bold py-2 px-2 rounded ".concat(t),type:"button",onClick:()=>e.onAction(s.HIT),disabled:e.disabled,children:"HIT"}),(0,S.jsx)("button",{className:"bg-blue-500 text-white font-bold py-2 px-2 rounded ".concat(t),type:"button",onClick:()=>e.onAction(s.DOUBLE),disabled:e.disabled,children:"DOUBLE"})]}),(0,S.jsxs)("div",{className:"flex justify-center gap-2 m-2",children:[(0,S.jsx)("button",{className:"bg-blue-500 text-white font-bold py-2 px-2 rounded ".concat(t),type:"button",onClick:()=>e.onAction(s.SPLIT),disabled:e.disabled,children:"SPLIT"}),(0,S.jsx)("button",{className:"bg-blue-500 text-white font-bold py-2 px-2 rounded ".concat(t),type:"button",onClick:()=>e.onAction(s.SURRENDER),disabled:e.disabled,children:"SURRENDER"})]})]})}function NextButton(e){let t=e.disabled?"disabled:opacity-25":"";return(0,S.jsx)(S.Fragment,{children:(0,S.jsx)("button",{className:"w-full h-full rounded bg-yellow-500 ".concat(t),type:"button",onClick:()=>e.onPress(),disabled:e.disabled,children:(0,S.jsx)(d.Z,{})})})}function CardImage(e){return(0,S.jsx)(c(),{priority:!0,placeholder:"empty",className:"h-40 w-auto",src:"/BlackjackTrainer/images/playing_cards/".concat(e.card.toString(),".svg"),height:0,width:0,alt:"".concat(e.card.toString())},e.card.toString())}function PlayingArea(e){return(0,S.jsxs)("div",{className:"grid grid-rows-5",children:[(0,S.jsx)("div",{className:"row-span-2 flex justify-around items-center",children:(0,S.jsx)(CardImage,{card:e.strategyCase.dealerCard})}),(0,S.jsxs)("div",{className:"row-span-2 flex justify-center gap-1 items-center",children:[(0,S.jsx)(CardImage,{card:e.strategyCase.hand[0]}),(0,S.jsx)(CardImage,{card:e.strategyCase.hand[1]})]}),(0,S.jsx)("div",{className:"row-span-1 flex justify-around",children:(0,S.jsxs)("div",{className:"grid grid-cols-5 items-center",children:[(0,S.jsx)("div",{className:"col-span-4",children:(0,S.jsx)(Actions,{onAction:e.onAction,disabled:e.allowNext})}),(0,S.jsx)("div",{className:"col-span-1",children:(0,S.jsx)(NextButton,{onPress:e.onNext,disabled:!e.allowNext})})]})})]})}function ResultFeedback(e){if(void 0===e.isCorrect)return null;let t=e.isCorrect?"bg-lime-500":"bg-red-500";return(0,S.jsxs)("div",{className:"grid grid-rows-3",children:[(0,S.jsx)("div",{className:"row-span-1"}),(0,S.jsx)("div",{className:"row-span-2 flex justify-center h-full items-center ".concat(t),children:(0,S.jsx)("p",{children:e.isCorrect?"Correct":"Wrong. Should ".concat(e.correctAction)})})]})}}},function(e){e.O(0,[126,971,472,744],function(){return e(e.s=7483)}),_N_E=e.O()}]);